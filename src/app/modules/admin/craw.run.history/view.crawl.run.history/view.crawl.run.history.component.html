<div class="kt-portlet kt-portlet-edit-form emailtemplateWrapper">
    <edit-header *ngIf="breadcrumbs && actions && actions.length > 0" [breadcrumbs]="breadcrumbs" [actions]="actions" [processing]="processing"></edit-header>
    <div class="kt-portlet__body card ">
        <div class="card-content">
            <div class="card-body">
                <div class="row" *ngIf="item && !loading">
                    <div class="col-sm-8">
                        <div class="card" id="card_company">
                            <div class="card-header">
                                <div class="card-title" data-toggle="collapse" data-target="#collapse_company">
                                    Details
                                </div>
                            </div>
                            <div id="collapse_keyword" class="collapse show">
                                <div class="card-body" style="padding-bottom: 0;">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <editor [(object)]="item" property="Index" [labelInline]="true" [decorator]="{readonly: true}"></editor>
                                        </div>
                                        <div class="col-sm-6">
                                            <editor [(object)]="item" property="Status" [labelInline]="true" [decorator]="{readonly: true}"></editor>
                                        </div>                               
                                        <div class="col-sm-6">
                                            <editor [(object)]="item" property="CreatedAt" [labelInline]="true" [decorator]="{ label: 'Start time', readonly: true}"></editor>
                                        </div>       
                                        <div class="col-sm-6">
                                            <editor [(object)]="item" property="LastRuning" [labelInline]="true" [decorator]="{readonly: true}"></editor>
                                        </div>
                                        <div class="col-sm-12">
                                            <editor [(object)]="item" property="LastLink" [labelInline]="true" [decorator]="{readonly: true}"></editor>
                                        </div>                                  
                                        <div class="col-sm-6" *ngIf="item.Status == CrawRunningStatus.Complete">
                                            <editor [(object)]="item" property="LastUpdatedAt" [labelInline]="true" [decorator]="{ label: 'End time', readonly: true}"></editor>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4" *ngIf="item.Websites">
                        <div class="card" id="card_website">
                            <div class="card-header">
                                <div class="card-title" data-toggle="collapse" data-target="#collapse_website">
                                    Websites [{{ item.Websites.length + '/' + item.TotalWebsite }}]
                                </div>
                            </div>
                            <div id="collapse_website" class="collapse show">
                                <div class="card-body" style="padding-bottom: 0;">
                                    <ul>
                                        <li *ngFor="let report of item.Websites">
                                            <a (click)="viewKeywords(report)"><span>Domain: {{ report.Domain }} - {{ report.Count }} of {{ item.TotalKeyword }} keywords </span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">                    
                    <div class="col-sm-4">
                        <div class="card" id="card_keyword" *ngIf="id && website">
                            <div class="card-header">
                                <div class="card-title" data-toggle="collapse" data-target="#collapse_keyword">
                                    Keywords [{{ website.Domain }} - {{ website.Count }} of {{ item.TotalKeyword }} keywords]
                                </div>
                            </div>
                            <div id="collapse_keyword" class="collapse show">
                                <div class="card-body" style="padding: 0;">
                                    <list-craw-keyword [params]="{id: id, domain: website.Domain}" (choice)="viewBrokerLeadTemps($event)"></list-craw-keyword>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-8">
                        <div class="card" id="card_keyword" *ngIf="keyword">
                            <div class="card-header">
                                <div class="card-title" data-toggle="collapse" data-target="#collapse_broker_temp">
                                    Broker Lead Temp [{{ keyword && keyword.Name }}]
                                </div>
                            </div>
                            <div id="collapse_broker_temp" class="collapse show">
                                <div class="card-body" style="padding: 0;">
                                    <list-broker-lead-temp [params]="{id: keyword.CrawKeywordId}"></list-broker-lead-temp>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row row-loading" *ngIf="loading">
                    <loading></loading>
                </div>
            </div>
        </div>
    </div>
</div>